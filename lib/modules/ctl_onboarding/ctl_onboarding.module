<?php

/**
 * Implements hook_menu().
 */
function ctl_onboarding_menu() {
  $items['training-session-registration'] = array(
    'title'            => 'Training Session Registration',
    'page callback'    => '_ctl_onboarding_registration_page',
    // 'page arguments'   => array(1),

    'access callback' => TRUE,
    // 'access arguments' => array('access all course reports'),

    'type'             => MENU_CALLBACK,
    'file'             => 'includes/registration.inc',
  );
  return $items;
}


/**
 * Implements hook_theme().
 */
function ctl_onboarding_theme($existing, $type, $theme, $path) {
  return array(
    'ctl_onboarding_radios' => array(
      'render element' => 'element',
    ),
  );
}


function theme_ctl_onboarding_radios($variables) {
  $element = $variables['element'];

  $cell = array();

  foreach ($element['#options'] as $start_time => $duration) {
    $cell[$start_time] = drupal_render($element[$start_time]);
  }

  $rows = array(
    array(
      NULL,
      $cell['tu-800'],
      $cell['w-800'],
      $cell['th-800'],
      NULL,
      $cell['sa-800'],
      $cell['su-800'],
    ),
    array(
      NULL,
      NULL,
      $cell['w-900'],
      NULL,
      NULL,
      NULL,
      NULL,
    ),
    array(
      NULL,
      $cell['tu-1000'],
      NULL,
      NULL,
      NULL,
      NULL,
      NULL,
    ),
    array(
      $cell['m-1800'],
      $cell['tu-1800'],
      NULL,
      NULL,
      NULL,
      NULL,
      NULL,
    ),
    array(
      $cell['m-2100'],
      NULL,
      NULL,
      $cell['th-2100'],
      NULL,
      $cell['sa-2100'],
      $cell['su-2100'],
    ),
    array(
      NULL,
      NULL,
      $cell['w-2200'],
      NULL,
      NULL,
      NULL,
      $cell['su-2200'],
    ),
  );

  $table = theme('table', array(
    'header' => $element['#header'],
    'rows' => $rows,
  ));

  return $table;
}


// /**
//  * Implements hook_permission().
//  */
// function ctl_onboarding_permission() {
//   return array(
//     'view certificate' => array(
//       'title' => t('View certificate'),
//       'description' => t('View the graduation certificate'),
//     ),
//     'view graduates' => array(
//       'title' => t('View graduates'),
//       'description' => t('View the list of graduates'),
//     ),
//   );
// }
